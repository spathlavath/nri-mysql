# Use root/example as user/password credentials
version: '3.1'

services:
  mysql_8-0-40:
    container_name: "mysql_8-0-40"
    restart: always
    environment:
      MYSQL_ROOT_PASSWORD: DBpwd1234
    build:
      context: ../../
      dockerfile: tests/integration/mysql-performance-config/versions/8.0.40/Dockerfile
    links:
      - nri-mysql
  
  mysql_8-4-0:
    container_name: "mysql_8-4-0"
    restart: always
    environment:
      MYSQL_ROOT_PASSWORD: DBpwd1234
    build:
      context: ../../
      dockerfile: tests/integration/mysql-performance-config/versions/8.4.0/Dockerfile
    links:
      - nri-mysql

  mysql_latest-supported:
    container_name: "mysql_latest-supported"
    restart: always
    environment:
      MYSQL_ROOT_PASSWORD: DBpwd1234
    build:
      context: ../../
      dockerfile: tests/integration/mysql-performance-config/versions/9.1.0/Dockerfile
    links:
      - nri-mysql

  nri-mysql:
    container_name: integration_nri-mysql_1
    build:
      context: ../../
      dockerfile: tests/integration/Dockerfile
